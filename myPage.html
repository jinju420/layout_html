<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mypage</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://kit.fontawesome.com/7783789018.js" crossorigin="anonymous"></script>
    <script defer src="js/main.js"></script>
</head>

<body>
    <header id="sub_header">
        <div class="bg"></div>
        <div class="inner">
            <h1><a href="index.html" class="logo">Lee<br>Jinju</a></h1>
            <nav class="menuWeb">
                <ul id="gnb">
                    <li>
                        <a href="brand.html">BRAND</a>
                    </li>
                    <li>
                        <a href="gallery.html">GALLERY</a>
                    </li>
                    <li>
                        <a href="myPage.html" class="on">MY PAGE</a>
                    </li>
                    <li>
                        <a href="notice.html">NOTICE</a>
                    </li>
                    <li>
                        <a href="contactUs.html">CONTACT US</a>
                    </li>
                </ul>
            </nav>
            <!-- mobile -->
            <div class="quick_menu">
                <a href="#" class="bars">
                    <span></span>
                </a>
            </div>

            <nav class="menuMo">
                <div class="loginBox">
                    <div class="joinBox">
                        <a href="#" class="login">로그인</a>
                        <a href="#" class="join">회원가입</a>
                    </div>
                    <div class="closeBox">
                        <a href="#" class="close">
                            <span></span>
                        </a>
                    </div>
                </div>
                <ul class="sub_menu">
                    <li>
                        <div class="tab">
                            <input type="radio" name="cate" id="cate1">
                            <label for="cate1">
                                <h3>BRAND</h3>
                                <a href="#" class="arrow">
                                    <span class="hidden">브랜드</span>
                                </a>
                            </label>
                            <ul class="inputUl">
                                <li><a href="#">ABOUT</a></li>
                                <li><a href="#">HISTORY</a></li>
                                <li><a href="#">ORGANIZATION</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <div class="tab">
                            <input type="radio" name="cate" id="cate2">
                            <label for="cate2">
                                <h3>GALLERY</h3>
                                <a href="#" class="arrow">
                                    <span class="hidden">브랜드</span>
                                </a>
                            </label>
                            <ul class="inputUl">
                                <li><a href="#">COMMUNITY</a></li>
                                <li><a href="#">NEW ARRIVAL</a></li>
                                <li><a href="#">POPULAR</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <div class="tab">
                            <input type="radio" name="cate" id="cate3">
                            <label for="cate3">
                                <h3>MY PAGE</h3>
                                <a href="#" class="arrow">
                                    <span class="hidden">브랜드</span>
                                </a>
                            </label>
                            <ul class="inputUl">
                                <li><a href="#">LOGIN</a></li>
                                <li><a href="#">JOIN</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <div class="tab">
                            <input type="radio" name="cate" id="cate4">
                            <label for="cate4">
                                <h3>NOTICE</h3>
                                <a href="#" class="arrow">
                                    <span class="hidden">브랜드</span>
                                </a>
                            </label>
                            <ul class="inputUl">
                                <li><a href="#">REQUEST</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <div class="tab">
                            <input type="radio" name="cate" id="cate5">
                            <label for="cate5">
                                <h3>CONTACT US</h3>
                                <a href="#" class="arrow">
                                    <span class="hidden">브랜드</span>
                                </a>
                            </label>
                            <ul class="inputUl">
                                <li><a href="#">LOCATION</a></li>
                                <li><a href="#">INQUIRY</a></li>
                                <li><a href="#">SNS</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="com mypage">
        <div class="sub_Visual">
            <div class="visual_box">
                <div class="inner">
                    <div class="title_txt">
                        <h1>Join</h1>
                        <p>쇼핑몰의 회원이 되시면 다양한 혜택을 누리실 수 있습니다</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="sub_con">
            <div class="inner">
                <h1>Join Us</h1>
                <form action="result.html" method="get" id="login">
                    <fieldset></fieldset>
                    <legend class="hide">회원가입을 위함 폼 입력 양식</legend>

                    <table>
                        <caption class="hide">회원가입을 위한 아이디, 비밀번호, 이메일, 나이 입력 테이블</caption>
                        <tbody>
                            <!-- id -->
                            <tr>
                                <th scope="row">
                                    <label for="userId">Full Name</label>
                                <td><input type="text" name="userId" id="userId" placeholder="아이디를 입력하세요"></td>
                                </th>
                            </tr>

                            <!-- pw -->
                            <tr>
                                <th scope="row">
                                    <label for="pwd1">Password</label>
                                <td><input type="password" name="pwd1" id="pwd1" placeholder="비밀번호를 입력하세요"></td>
                                </th>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <label for="pwd2">Re Password</label>
                                <td><input type="password" name="pwd2" id="pwd2" placeholder="비밀번호를 입력하세요"></td>
                                </th>
                            </tr>

                            <!-- email -->
                            <tr>
                                <th scope="row"><label for="email">Email</label></th>
                                <td><input type="text" name="email" id="email" placeholder="이메일주소를 입력하세요"></td>
                            </tr>

                            <!-- age -->
                            <tr>
                                <th scope="row">Age</th>
                                <td>
                                    <select name="age" id="age">
                                        <option value="">선택하세요</option>
                                        <option value="teenage">10대</option>
                                        <option value="20s_30s">20~30대</option>
                                        <option value="40s_50s">40~50대</option>
                                        <option value="over_50s">50대 이상</option>
                                    </select>
                                </td>
                            </tr>

                        </tbody>
                    </table>

                    <table>
                        <caption class="hide">성별, 스타일, 남기는 말 입력 테이블</caption>
                        <tbody>
                            <!-- gender -->
                            <tr>
                                <th scope="row">Gender</th>
                                <td>
                                    <input type="radio" name="gender" id="female" value="female">
                                    <label for="female">Female</label>

                                    <input type="radio" name="gender" id="male" value="male">
                                    <label for="male">Male</label>
                                </td>
                            </tr>

                            <!-- interest -->
                            <tr>
                                <th scope="row">Preference style</th>
                                <td>
                                    <input type="checkbox" name="style" id="simple" value="simple">
                                    <label for="simple">Simple</label>

                                    <input type="checkbox" name="style" id="mono" value="mono">
                                    <label for="mono">Monotonous</label><br>

                                    <input type="checkbox" name="style" id="fancy">
                                    <label for="fancy">Fancy</label>

                                    <input type="checkbox" name="style" id="trendy">
                                    <label for="trendy">Trendy</label>
                                </td>
                            </tr>

                            <!-- comments -->
                            <tr>
                                <th scope="row"><label for="comments">Comments</label></th>
                                <td><textarea name="comments" id="commetns"
                                        placeholder="추가되었으면 하는 컨셉을 남겨주세요"></textarea>
                                </td>
                            </tr>

                            <!-- btns -->
                            <tr>
                                <th colspan="2">
                                    <input type="reset" value="CANCEL">
                                    <input type="submit" value="SUBMIT">
                                </th>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>
        </div>
    </section>

    <footer id="sub_footer">
        <div class="inner">
            <div class="wrap">
                <article class="map">
                    <a href="contactUs.html">
                        <i class="far fa-map"></i>
                        <span>LOCATION</span>
                    </a>
                </article>
                <article class="mail">
                    <a href="javascript:void(0);" onclick="alert('준비중입니다.')">
                        <i class="far fa-question-circle"></i>
                        <span>INQUIRY</span>
                    </a>
                </article>
                <article class="sns">
                    <a href="javascript:void(0);" onclick="alert('준비중입니다.')">
                        <i class="fab fa-instagram"></i>
                        <span>SNS</span>
                    </a>
                </article>
            </div>
            <a href="#" class="top">
                <i class="fas fa-solid fa-chevron-up"></i>
            </a>
        </div>
        <div class="ft_txt">
            <span>LJJSHLOVE@NAVER.COM</span>
            <p>Copyrightⓒ 2023 All rights reserved</p>
        </div>
    </footer>

    <script>
        const myPage = document.querySelector('.mypage');
        const btnSubmit = myPage.querySelector('input[type=submit]');

        // window.addEventListener('load', () => {
        //     myPage.querySelector('input[name=userId]').focus();
        // });

        btnSubmit.addEventListener('click', e => {

            if (!isTxt('userId')) e.preventDefault();
            if (!isTxt('comments', 10)) e.preventDefault();
            if (!isEmail('email')) e.preventDefault();

            if (!isCheck('gender')) e.preventDefault();
            if (!isCheck('style')) e.preventDefault();

            if (!isSelect('age')) e.preventDefault();
            if (!isPwd('pwd1', 'pwd2')) e.preventDefault();
        });

        //유효성 검사
        //userId
        function isTxt(el, len) {
            if (len === undefined) len = 5;
            let input = myPage.querySelector(`[name=${el}]`);
            let txt = input.value;

            if (txt.length >= len) {
                const errMsgs = input.closest('td').querySelectorAll('p');
                if (errMsgs.length > 0) input.closest('td').querySelector('p').remove();

                return true;
            } else {
                const errMsgs = input.closest('td').querySelectorAll('p');
                if (errMsgs.length > 0) return false;


                let errMessage = document.createElement('p');
                errMessage.append(`입력항목을 ${len}글자 이상 입력하세요`);
                input.closest('td').append(errMessage);
                return false;
            }
        }

        //email
        function isEmail(el, len) {
            let input = myPage.querySelector(`[name=${el}]`);
            let txt = input.value;

            if (/@/.test(txt)) {
                const errMsgs = input.closest('td').querySelectorAll('p');
                if (errMsgs.length > 0) input.closest('td').querySelector('p').remove();

                return true;
            } else {
                const errMsgs = input.closest('td').querySelectorAll('p');
                if (errMsgs.length > 0) return false;


                let errMessage = document.createElement('p');
                errMessage.append('@를 포함한 전체 이메일 주소를 입력하세요');
                input.closest('td').append(errMessage);
                return false;
            }
        }

        //check
        function isCheck(el) {
            let inputs = myPage.querySelectorAll(`[name=${el}]`);
            let isCheck = false;

            for (const el of inputs) if (el.checked) isCheck = true;

            if (isCheck) {
                const errMsgs = inputs[0].closest('td').querySelectorAll('p');
                if (errMsgs.length > 0) inputs[0].closest('td').querySelector('p').remove();

                return true;
            } else {
                const errMsgs = inputs[0].closest('td').querySelectorAll('p');
                if (errMsgs.length > 0) return false;

                let errMessage = document.createElement('p');
                errMessage.append('필수 입력 항목을 체크해 주세요');
                inputs[0].closest('td').append(errMessage);
                return false;
            }
        }

        //select
        function isSelect(el) {
            let sel = myPage.querySelector(`[name=${el}]`);

            let sel_index = sel.options.selectedIndex;
            let value = sel[sel_index].value;

            if (value !== '') {
                const errMsgs = sel.closest('td').querySelectorAll('p');
                if (errMsgs.length > 0) sel.closest('td').querySelector('p').remove();
                return true;
            } else {
                const errMsgs = sel.closest('td').querySelectorAll('p');
                if (errMsgs.length > 0) return false;

                let errMessage = document.createElement('p');
                errMessage.append('항목을 선택해 주세요');
                sel.closest('td').append(errMessage);
                return false;
            }
        }

        //pwd
        function isPwd(el1, el2, len) {
            if (len === undefined) len = 5;
            let pwd1 = myPage.querySelector(`[name=${el1}]`);
            let pwd2 = myPage.querySelector(`[name=${el2}]`);
            let pwd1_value = pwd1.value;
            let pwd2_value = pwd2.value;

            const num = /[0-9]/;
            const eng = /[a-zA-Z]/;
            const spc = /[~!@#$%^&*()_+?<>]/;

            if (pwd1_value === pwd2_value && pwd1_value.length >= len && num.test(pwd1_value) && eng.test(pwd1_value) && spc.test(pwd1_value)) {
                const errMsgs = pwd1.closest('td').querySelectorAll('p');
                if (errMsgs.length > 0) pwd1.closest('td').querySelector('p').remove();

                return true;
            } else {
                const errMsgs = pwd1.closest('td').querySelectorAll('p');
                if (errMsgs.length > 0) return false;

                let errMessage = document.createElement('p');
                errMessage.append(`비밀번호는 ${len}글자 이상, 영문, 숫자, 특수문자를 포함하여 동일하게 입력하세요.`);
                pwd1.closest('td').append(errMessage);
                return false;
            }
        }

    </script>
</body>

</html>